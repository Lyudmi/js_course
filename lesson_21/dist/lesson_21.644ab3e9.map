{"version":3,"sources":["location_api.js","dom.js","index.js"],"names":["LocationApi","fetch","then","resolve","status","json","Error","catch","console","log","reject","your_Ip","Dom","loader","document","getElementById","btn","div","style","display","parametr","lng","longitude","lat","latitude","innerHTML","my_Api","dom","addEventListener","setTimeout","showPreloader","getMyIp","getMyLocation","ip","setCoordinates","hidePreloader"],"mappings":"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","file":"lesson_21.644ab3e9.map","sourceRoot":"..","sourcesContent":["export default class LocationApi {\r\n    getMyIp() {\r\n        \r\n        return fetch('https://api.ipify.org?format=json')\r\n            .then(resolve => {\r\n                if(resolve.status === 200) {\r\n                    return resolve.json();\r\n                } else {\r\n                    throw new Error('error ip');\r\n                }\r\n            })\r\n            .catch(reject => console.log('error ip: ', reject));\r\n    };\r\n    \r\n    getMyLocation(your_Ip) {\r\n        return fetch('https://freegeoip.net/json/' + your_Ip )\r\n            .then (resolve => {\r\n                if (resolve.status === 200) {\r\n                    return resolve.json();\r\n                }\r\n               throw new Error('error');\r\n            })\r\n            .catch(reject => console.log('Error: ' + reject));\r\n    }\r\n};","export default class Dom {\r\n    constructor() {\r\n        let loader = document.getElementById('loader');\r\n        let btn = document.getElementById('btn');\r\n        this.div = document.getElementById('div');\r\n    }\r\n\r\n    showPreloader () {\r\n        loader.style.display = \"block \";\r\n        document.getElementById(\"btn\").style.display = \"none\";\r\n        document.getElementById(\"div\").style.display = \"none\";\r\n    }\r\n\r\n    hidePreloader () {\r\n        \r\n        loader.style.display = 'none';\r\n        document.getElementById(\"btn\").style.display = \"block\";\r\n        document.getElementById(\"div\").style.display = \"block\";\r\n        \r\n}\r\n\r\n\r\n    setCoordinates(parametr) {\r\n             this.lng = parametr.longitude; \r\n             this.lat = parametr.latitude;\r\n             console.log(this.lng, this.lat);\r\n             //this.msg = `Longitude: ${this.lng }, Latitude: ${this.lat}`;\r\n             //document.write(this.msg);\r\n             \r\n             this.div.innerHTML = \"<div><span>Longitude: \" + this.lng + \",</span><span> Latitude: \" + this.lat  + \"</span></div>\";\r\n             \r\n             //document.body.appendChild(this.div);\r\n    };\r\n        \r\n}","import LocationApi from './location_api';\r\nimport Dom from './dom';\r\n\r\nconst my_Api = new LocationApi();\r\nconst dom = new Dom();\r\nbtn.addEventListener('click', () => {\r\n    \r\n    setTimeout(() => {\r\n        dom.showPreloader();\r\n        my_Api.getMyIp()\r\n                .then(resolve => my_Api.getMyLocation(resolve.ip))\r\n                .then(resolve => dom.setCoordinates(resolve))\r\n                .then(resolved => dom.hidePreloader())\r\n                .catch(reject => {\r\n                    console.log('Error:', reject);\r\n});\r\n    }, 400);\r\n})"]}